<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Web4 — The Intelligent Internet</title>
  <style>
    :root {
      --bg-color: #1b1f24;
      --text-color: #f5f5f5;
      --accent-color: #00ffa2;
    }

    [data-theme='light'] {
      --bg-color: #f5f5f5;
      --text-color: #1b1f24;
      --accent-color: #007f5f;
    }

    body {
      background: var(--bg-color);
      color: var(--text-color);
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      transition: all 0.3s ease;
    }

    header, footer {
      background: #111;
      text-align: center;
      padding: 1.5rem;
      color: #ccc;
    }

    header h1 {
      font-size: 2.5rem;
      margin: 0;
    }

    main {
      padding: 2rem;
      max-width: 900px;
      margin: auto;
    }

    h2 {
      border-left: 4px solid var(--accent-color);
      padding-left: 1rem;
      color: var(--accent-color);
    }

    a {
      color: var(--accent-color);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .iframe-wrapper {
      width: 100%;
      height: 600px;
      border: 2px solid var(--accent-color);
      border-radius: 10px;
      overflow: hidden;
      margin-top: 1rem;
    }

    .iframe-wrapper iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    input, button {
      display: block;
      margin: 0.5rem 0;
      padding: 0.6rem;
      width: 100%;
      max-width: 500px;
      font-size: 1rem;
    }

    pre {
      background: #333;
      padding: 1rem;
      border-radius: 8px;
      overflow-x: auto;
    }
  </style><style>
.cat-btn {
  padding: 0.7rem 1.5rem;
  background-color: #111;
  border: 1px solid #00ffaa;
  color: #00ffaa;
  border-radius: 5px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.2s ease-in-out;
}

.cat-btn:hover {
  background-color: #00ffaa;
  color: #000;
}
</style>
</head>

<body>
  <header>
    <h1>Web4: The Intelligent Internet</h1>
    <p>Powered by Fadaka Blockchain, Swift Wallet & GPT Assistant</p>
    <p id="status">🔄 Loading node status...</p>
  </header>

  <main>
    <section>
      <h2>🧠 What's Inside?</h2>
      <ul>
        <li>Fadaka Blockchain Node (FDAK)</li>
        <li>Swift Beta Wallet UI</li>
        <li>GPT-powered AI Assistant (FastAPI)</li>
        <li>FX Swap Router + Faucet</li>
        <li>CertForge Identity & TLS</li>
      </ul>
    </section>
    <!-- IoT Dev Classroom (AI-Powered) -->
<section id="dev-classroom" style="padding: 2rem; background: #0a0a0a; color: #f0f0f0; font-family: sans-serif;">
  <h2 style="text-align: center; font-size: 2rem;">📚 IoT Dev Classroom <span style="color:#00ffaa;">(Powered by AI)</span></h2>
  <p style="text-align:center;">Select a category to explore auto-generated lessons 👇</p>
<section id="geo-chat" style="padding: 2rem; background: #121212; color: #fff; margin-top: 3rem;">
  <h2 style="text-align:center;">🌍 Web4 Global Dev Chat</h2>
  <p style="text-align:center;">Connect with fellow builders worldwide</p>

  <div style="max-width: 600px; margin: auto; padding: 1rem; background: #1a1a1a; border-radius: 8px;">
    <input id="chat-name" type="text" placeholder="Your Name" style="width: 48%; padding: 0.5rem; margin: 0.5rem 1%;"/>
    <input id="chat-location" type="text" placeholder="Your Region/Country" style="width: 48%; padding: 0.5rem; margin: 0.5rem 1%;"/>
    <textarea id="chat-msg" placeholder="Message..." rows="3" style="width: 96%; padding: 0.7rem; margin: 0.5rem 2%;"></textarea>
    <button onclick="sendChat()" style="width: 100%; padding: 0.7rem; background: #00ffaa; color: #000; border: none; font-weight: bold; cursor: pointer;">
      Send Message
    </button>
    <div id="chat-box" style="margin-top: 1rem; max-height: 250px; overflow-y: auto; background: #000; padding: 1rem; border-radius: 5px;">
      <p><em>💬 Messages will appear here...</em></p>
    </div>
  </div>
</section>
  <div class="categories" style="display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap; margin-top: 1rem;">
    <button onclick="loadLessons('iot')" class="cat-btn">IoT</button>
    <button onclick="loadLessons('blockchain')" class="cat-btn">Blockchain</button>
    <button onclick="loadLessons('web')" class="cat-btn">Web Dev</button>
    <button onclick="loadLessons('ai')" class="cat-btn">AI/ML</button>
  </div>

  <div id="lesson-list" style="margin-top: 2rem; padding: 1rem; background: #111; border-radius: 10px;">
    <p style="text-align:center;">📘 Lessons will appear here...</p>
  </div>
</section>

    <section>
      <h2>🚀 Built on Web4</h2>
      <p>Core components powering the Web4 experience:</p>
      <ul>
        <li><strong>🪙 <a href="https://github.com/Web4application/fadakacoin" target="_blank">fadakacoin</a></strong></li>
        <li><strong>🧠 <a href="https://github.com/Web4application/rodaai" target="_blank">rodaai</a></strong></li>
        <li><strong>💬 <a href="https://github.com/Web4application/zetachat" target="_blank">zetachat</a></strong></li>
        <li><strong>🔗 <a href="https://github.com/Web4application/web4walletconnect" target="_blank">web4walletconnect</a></strong></li>
        <li><strong>🌐 <a href="https://github.com/Web4application/web4application.github.io" target="_blank">web4wallet</a></strong></li>
      </ul>
    </section>

    <section class="wallet-ui">
      <h2>💼 Wallet & Faucet Access</h2>
      <p>Use the Swift Beta Wallet to manage your FDAK tokens and swaps:</p>
      <div class="iframe-wrapper">
        <iframe src="https://web4application.github.io/Bizz/" title="Swift Beta Wallet"></iframe>
      </div>
    </section>

    <section class="assistant-ui">
      <h2>🤖 Web4 AI Assistant</h2>
      <p>Ask anything, including contract help, node status, and more:</p>
      <div class="iframe-wrapper">
        <iframe src="https://congen-ai.streamlit.app" title="AI Assistant"></iframe>
      </div>
    </section>

    <section>
      <h2>📝 Sign a Transaction</h2>
      <input id="from" placeholder="From Address" />
      <input id="to" placeholder="To Address" />
      <input id="amount" placeholder="Amount" />
      <input id="gas" placeholder="Gas" />
      <input id="private_key" type="password" placeholder="Private Key" />
      <button onclick="signTransaction()">🔐 Sign Transaction</button>
      <pre id="signed_tx">No transaction yet</pre>
    </section>
<script>
const lessons = {
  iot: [
    "🔌 What is IoT? Understanding Smart Devices",
    "📡 Getting Started with MQTT Protocol",
    "🌐 Connecting Arduino to Web4",
    "📊 Sending Sensor Data to the Blockchain",
    "🧠 AI + IoT: Predictive Maintenance"
  ],
  blockchain: [
    "📘 Smart Contracts 101",
    "🔗 Deploying Contracts on Fadaka Chain",
    "💸 Creating Your Own Token (ERC-20)",
    "🛠 Interacting with Contracts via Web3",
    "📈 Tokenomics in Decentralized Systems"
  ],
  web: [
    "🧱 HTML + CSS Fundamentals",
    "⚛️ Modern JS + React Basics",
    "🌐 Building a Web3 App with ethers.js",
    "📲 Responsive Web4 Interfaces",
    "🔐 Web Wallet Auth with Fadaka"
  ],
  ai: [
    "🧠 Machine Learning Basics",
    "🤖 Building a GPT Chatbot",
    "📊 Training Models on CSVs",
    "🛠 Deploy AI on Microcontrollers",
    "🎓 Building an AI Tutor for IoT"
  ]
};

function loadLessons(topic) {
  const list = lessons[topic] || [];
  document.getElementById("lesson-list").innerHTML = `
    <h3 style="margin-bottom: 1rem; color: #00ffaa;">${topic.toUpperCase()} Lessons:</h3>
    <ul style="list-style-type: none; padding-left: 0;">
      ${list.map(item => `<li style="padding: 0.5rem 0; border-bottom: 1px solid #333;">${item}</li>`).join("")}
    </ul>
  `;
}
</script>
    <script>
let chatMessages = [];

function sendChat() {
  const name = document.getElementById('chat-name').value || 'Anonymous';
  const location = document.getElementById('chat-location').value || '🌍 Earth';
  const message = document.getElementById('chat-msg').value;

  if (!message.trim()) return;

  const time = new Date().toLocaleTimeString();
  chatMessages.push({ name, location, message, time });

  updateChatBox();
  document.getElementById('chat-msg').value = '';
}

function updateChatBox() {
  const box = document.getElementById('chat-box');
  box.innerHTML = chatMessages.map(msg =>
    `<div style="margin-bottom: 1rem;">
      <strong style="color: #00ffaa;">${msg.name}</strong> from <span style="color: #ccc;">${msg.location}</span> at <small>${msg.time}</small><br/>
      <span style="color:#eee;">${msg.message}</span>
    </div>`
  ).join('');
}
</script>
    <section>
      <h2>📘 Documentation</h2>
      <p>Visit the <a href="../docs/index.md">Docs folder</a> or use MkDocs to build and host it live.</p>
    </section>

    <section>
      <h2>🌍 Project Repositories</h2>
      <ul>
        <li><a href="https://github.com/Web4application/fadaka-blockchain">Fadaka Blockchain</a></li>
        <li><a href="https://github.com/Web4application/project_pilot_ai">ProjectPilot AI</a></li>
        <li><a href="https://github.com/Web4application/congen">Congen-AI Trainer</a></li>
        <li><a href="https://github.com/Web4application/Bizz">Bizz Automation</a></li>
      </ul>
    </section>
  </main>

  <footer>
    Built by <a href="https://github.com/Web4application" target="_blank">Web4Application</a> © 2025
  </footer>

  <script>
    const backendURL = window.location.hostname.includes("localhost")
      ? "http://localhost:8000"
      : "https://your-backend-url.onrender.com"; // UPDATE THIS after backend deployment

    async function fetchStatus() {
      try {
        const res = await fetch(backendURL + "/status");
        const data = await res.json();
        document.getElementById("status").innerText =
          `🟢 Height: ${data.block_height}, Peers: ${data.peers}, Faucet: ${data.faucet_supply}`;
      } catch (e) {
        document.getElementById("status").innerText = "🔴 Cannot connect to backend.";
      }
    }

    async function signTransaction() {
      const tx = {
        from_: document.getElementById("from").value,
        to: document.getElementById("to").value,
        amount: document.getElementById("amount").value,
        gas: document.getElementById("gas").value,
        private_key: document.getElementById("private_key").value,
      };

      const res = await fetch(backendURL + "/sign", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(tx),
      });

      const result = await res.json();
      document.getElementById("signed_tx").innerText = result.signed_tx;
    }

    window.onload = fetchStatus;
  </script>

</body>
</html>
