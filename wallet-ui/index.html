<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Web4 Node Dashboard</title>
  <style>
    :root {
      --bg-color: #0d1117;
      --text-color: #f0f6fc;
      --accent-color: #00ffa2;
    }
    [data-theme='light'] {
      --bg-color: #ffffff;
      --text-color: #0d1117;
      --accent-color: #007f5f;
    }
    body {
      margin: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      font-family: 'Segoe UI', sans-serif;
    }
    header {
      padding: 1rem;
      background: #111;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header img {
      height: 40px;
    }
    .toggle-btn {
      background: var(--accent-color);
      color: #000;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
    }
    main {
      padding: 2rem;
      max-width: 960px;
      margin: auto;
    }
    section {
      margin-bottom: 2rem;
      background: #161b22;
      padding: 1rem;
      border-radius: 10px;
    }
    h2 {
      border-left: 4px solid var(--accent-color);
      padding-left: 0.5rem;
    }
    label, input, textarea {
      display: block;
      margin: 0.5rem 0;
    }
    input, textarea {
      width: 100%;
      padding: 0.5rem;
      background: #0d1117;
      color: #f0f6fc;
      border: 1px solid #333;
      border-radius: 6px;
    }
    button {
      background: var(--accent-color);
      border: none;
      padding: 0.5rem 1rem;
      font-weight: bold;
      cursor: pointer;
      border-radius: 6px;
    }
    iframe {
      width: 100%;
      height: 400px;
      border: none;
      border-radius: 8px;
    }
    .status-item {
      margin-bottom: 0.5rem;
    }
  </style>
</head>
<body>
  <header>
    <img src="logo.svg" alt="Web4 Node" />
    <button class="toggle-btn" onclick="toggleTheme()">ğŸŒ— Theme</button>
  </header>

  <main>
    <section>
      <h2>ğŸ“¡ Node Status</h2>
      <div id="node-status">
        <div class="status-item">â›“ï¸ Block Height: <span id="blockHeight">loading...</span></div>
        <div class="status-item">ğŸ‘¥ Peers: <span id="peers">loading...</span></div>
        <div class="status-item">ğŸ’§ Faucet FDAK: <span id="faucet">loading...</span></div>
      </div>
    </section>

    <section>
      <h2>ğŸ”² Wallet QR Generator</h2>
      <label for="qr-address">Address</label>
      <input type="text" id="qr-address" value="0xCaAA9A2A8B4d0dfD9ca5eC406ae11663CdC3Dd43" />
      <div>
        <img id="qr-image" src="" alt="QR Code" style="margin-top:1rem;" />
      </div>
    </section>

    <section>
      <h2>âœï¸ Transaction Signer</h2>
      <label>From</label><input id="tx-from" />
      <label>To</label><input id="tx-to" />
      <label>Amount</label><input id="tx-amount" />
      <label>Gas</label><input id="tx-gas" />
      <label>Private Key</label><input id="tx-key" type="password"/>
      <button onclick="signTransaction()">Sign Transaction</button>
      <label>Signed TX</label>
      <textarea id="tx-result" readonly></textarea>
      <button onclick="copyTx()">ğŸ“‹ Copy</button>
    </section>

    <section>
      <h2>ğŸ¤– Web4 Assistant</h2>
      <iframe src="https://congen-ai.streamlit.app" title="AI Assistant"></iframe>
    </section>

    <section>
      <h2>ğŸ’¼ Swift Beta Wallet</h2>
      <iframe src="https://web4application.github.io/Bizz/" title="Swift Wallet"></iframe>
    </section>
  
<section>
  <h2>ğŸš€ Built on Web4</h2>
  <p>The ecosystem that powers the intelligent, user-owned Web4 experience:</p>
  <ul style="list-style: none; padding: 0;">
    <li style="margin: 1rem 0;">
      <strong>ğŸª™ <a href="https://github.com/Web4application/fadakacoin" target="_blank">fadakacoin</a></strong><br/>
      Native cryptocurrency shell for the Fadaka Blockchainâ€”includes wallet integration (MetaMask/Trust Wallet), analytics (RODAAI), and the Lola virtual assistant.
    </li>
    <li style="margin: 1rem 0;">
      <strong>ğŸŒ <a href="https://github.com/Web4application/fadaka-blockchain" target="_blank">fadaka-blockchain</a></strong><br/>
      Core Go-based chain: transaction routing, token logic, peer networking, and consensus.
    </li>
    <li style="margin: 1rem 0;">
      <strong>ğŸ’¸ <a href="https://github.com/Web4application/fadakatoken" target="_blank">fadakatoken</a></strong><br/>
      ERC20-style smart contract implementation for FDAK tokensâ€”supports minting, burning, and upgrades.
    </li>
    <li style="margin: 1rem 0;">
      <strong>ğŸ§  <a href="https://github.com/Web4application/project_pilot_ai" target="_blank">project_pilot_ai</a></strong><br/>
      GPT-powered assistant designed to orchestrate blockchain workflows, automate code, and support developer queries.
    </li>
    <li style="margin: 1rem 0;">
      <strong>ğŸ¤– <a href="https://github.com/Web4application/congen" target="_blank">congen</a></strong><br/>
      Engine for chatbots assistant trained on structured dataâ€”streamlined for Streamlit deployments.
    </li>
    <li style="margin: 1rem 0;">
      <strong>ğŸ§ª <a href="https://github.com/Web4application/UniversalCertForge" target="_blank">UniversalCertForge</a></strong><br/>
      FastAPI-powered certificate tool for SSL, app, and binary signingâ€”helps secure Web4 infrastructure.
    </li>
    <li style="margin: 1rem 0;">
      <strong>ğŸ’¬ <a href="https://github.com/Web4application/zetachat" target="_blank">zetachat</a></strong><br/>
      Real-time AI-enabled chat and collaboration built with FastAPI and WebSockets.
    </li>
    <li style="margin: 1rem 0;">
      <strong>ğŸ”Œ <a href="https://github.com/Web4application/web4walletconnect" target="_blank">web4walletconnect</a></strong><br/>
      JavaScript library designed to connect wallets across Web4 appsâ€”mobile and desktop compatible.
    </li>
    <li style="margin: 1rem 0;">
      <strong>ğŸŒ <a href="https://github.com/Web4application/web4application.github.io" target="_blank">web4wallet (UI)</a></strong><br/>
      The Swift Beta wallet interfaceâ€”integrated token swaps, QR code handling, AI dashboard, and more, ready for GitHub Pages.
    </li>
  </ul>
</section>
<script async defer src="https://buttons.github.io/buttons.js"></script>

</main>

  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute("data-theme");
      html.setAttribute("data-theme", currentTheme === "light" ? "dark" : "light");
    }
    document.documentElement.setAttribute("data-theme", "dark");

    function updateQR() {
      const addr = document.getElementById("qr-address").value;
      document.getElementById("qr-image").src =
        "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=" + encodeURIComponent(addr);
    }
    document.getElementById("qr-address").addEventListener("input", updateQR);
    updateQR();

    async function signTransaction() {
      const payload = {
        from: document.getElementById("tx-from").value,
        to: document.getElementById("tx-to").value,
        amount: document.getElementById("tx-amount").value,
        gas: document.getElementById("tx-gas").value,
        private_key: document.getElementById("tx-key").value
      };
      try {
        const res = await fetch("http://localhost:8000/sign", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });
        const result = await res.json();
        document.getElementById("tx-result").value = JSON.stringify(result, null, 2);
      } catch (err) {
        alert("Failed to sign: " + err.message);
      }
    }

    function copyTx() {
      const tx = document.getElementById("tx-result");
      tx.select();
      document.execCommand("copy");
    }

    async function fetchStatus() {
      try {
        const res = await fetch("http://localhost:8000/status");
        const data = await res.json();
        document.getElementById("blockHeight").textContent = data.block_height;
        document.getElementById("peers").textContent = data.peers;
        document.getElementById("faucet").textContent = data.faucet_supply + " FDAK";
      } catch {
        document.getElementById("blockHeight").textContent = "offline";
        document.getElementById("peers").textContent = "offline";
        document.getElementById("faucet").textContent = "offline";
      }
    }

    fetchStatus();
   <button onclick="startListening()">ğŸ™ï¸ Talk</button>
<div id="responseBox"></div>

<script>
const synth = window.speechSynthesis;
const recognition = new webkitSpeechRecognition();

function startListening() {
  recognition.onresult = (event) => {
    const transcript = event.results[0][0].transcript;
    fetch('http://localhost:8000/assistant', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({ command: transcript, user_id: 'kubu123' })
    })
    .then(res => res.json())
    .then(data => {
      document.getElementById('responseBox').innerText = data.response;
      synth.speak(new SpeechSynthesisUtterance(data.response));
    });
  };
  recognition.start();
}
</script>
</body>
</html>
